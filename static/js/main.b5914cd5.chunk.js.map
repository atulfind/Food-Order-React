{"version":3,"sources":["context/index.js","components/Counter/index.js","utils/index.js","components/Checkout/index.js","components/Header/index.js","components/FoodItems/index.js","components/AddedItems/Index.js","components/Main/index.js","App.js","index.js"],"names":["dataContext","React","createContext","Counter","item","useContext","action","state","className","onClick","type","payload","count","getTime","Date","getHours","Checkout","total","useState","selected","setstate","useEffect","newarr","filter","length","date","year","getFullYear","month","getMonth","d","getDate","map","index","parseInt","price","key","itemname","Header","searchChangeHandler","placeholder","onChange","e","FoodItems","filtered","addItem","isAssending","setIsAssending","src","alt","disabled","AddedItems","data","selectedItems","setSelectedItem","settotal","sum","reduce","accumulator","currentValue","to","Main","searched","setSearched","isSearched","setisSearched","Fragment","event","str","target","value","search","RegExp","b","test","a","_","sortBy","reverse","dataReducer","obj","find","removeObj","App","useReducer","dataDispatch","jsondata","Provider","path","exact","component","app","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5914cd5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst dataContext = React.createContext([]);\r\n\r\nexport default dataContext;","import React, {useContext} from 'react';\r\nimport dataContext from '../../context';\r\nimport './index.scss';\r\n\r\nconst Counter = ({item}) => {\r\n\r\n  const {state, action} = useContext(dataContext);\r\n     \r\n  const addItem=() =>{\r\n    action({type: 'ADD', payload: item})\r\n  }\r\n\r\n  const removeItem = () =>{\r\n    action({type: 'REMOVE', payload: item})\r\n  }\r\n\r\n  return (\r\n       <div className=\"counter\">\r\n          <button className=\"count\" onClick={addItem}>+</button>\r\n          <span className=\"text\">{item.count}</span>\r\n          <button className=\"count\" onClick={removeItem}>-</button>\r\n        </div> \r\n  \r\n  )\r\n}\r\n\r\nexport default Counter\r\n","const getDate = () => { \r\n  const date = new Date();\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth();\r\n  const d = date.getDate();\r\n  return `${d}-${month}-${year}`;\r\n}\r\n\r\nconst getTime = () => {\r\n  const date = new Date();\r\n  const h = date.getHours();\r\n  if(h>= 7 && h<=17) {\r\n    return false;\r\n  }else{\r\n    return false;\r\n  }\r\n}\r\n\r\nexport {getDate, getTime};","import React, { useEffect, useState, useContext } from 'react';\r\nimport './index.scss';\r\nimport Counter from '../Counter';\r\nimport {getDate} from '../../utils';\r\nimport dataContext from '../../context';\r\n\r\n\r\nconst Checkout = () => {\r\n\r\n  let total = 0;\r\n   \r\n  const {state, action} = useContext(dataContext)\r\n\r\n  const [selected, setstate] = useState([])\r\n\r\n  useEffect(() => {\r\n    const newarr = state.filter(item => item.count && item.count > 0);\r\n    setstate(newarr);\r\n  }, [state])\r\n\r\n  return (\r\n    selected.length > 0 ?\r\n      <div className=\"checkout\">\r\n        <div className=\"head\">\r\n          <h4>Buffet</h4>\r\n          <div className=\"title\">{\r\n            getDate()\r\n          }</div>\r\n        </div>\r\n        <ul>\r\n          {\r\n            selected.map((item, index) => {\r\n              total = total + (parseInt(item.count) * parseInt(item.price))\r\n              return (\r\n                <li key={index}>\r\n                  <div className=\"top\">\r\n                    <div className =\"title\">{item.itemname}</div>\r\n                    <Counter item={item}/>\r\n                  </div>\r\n                  <div className=\"bottom\">\r\n                    <div className =\"title\">{`${item.count} X ${item.price}`}</div>\r\n                    <div className=\"total-price\">Rs. {(parseInt(item.count) * parseInt(item.price))}</div>\r\n                  </div>\r\n                </li>\r\n              )\r\n            })\r\n          }\r\n          <li>\r\n          <div className=\"top\">\r\n                    <div className =\"title\">Sub Total</div>\r\n                   <div className=\"right\">{total}</div>\r\n                  </div>\r\n                  <div className=\"bottom\">\r\n                    <div className =\"title\">Tax</div>\r\n                    <div className=\"total-price\">0</div>\r\n                  </div>\r\n          </li>\r\n          <li>\r\n          <div className=\"top\">\r\n                    <div className =\"title\">Grand Total</div>\r\n                   <div className=\"right\">{total}</div>\r\n                  </div>\r\n                 \r\n          </li>\r\n          <li>\r\n          <div className=\"top\">\r\n                  <button className=\"btn-link right\">Place Order</button>\r\n                  </div>\r\n                 \r\n          </li>\r\n        </ul>\r\n      </div>\r\n      : \"\"\r\n  )\r\n}\r\n\r\nexport default Checkout\r\n","import React from 'react';\r\nimport './index.scss';\r\n\r\nconst Header = ({searchChangeHandler}) => {\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"icon\"></div>\r\n      <div className=\"input-box\">\r\n        <input\r\n          type=\"search\"\r\n          placeholder=\"search\"\r\n          onChange={(e)=> {searchChangeHandler(e)}}\r\n        />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, {useState} from 'react';\r\nimport './index.scss';\r\nimport dataContext from '../../context';\r\nimport Counter from '../Counter';\r\nimport { getTime } from '../../utils';\r\n\r\nconst FoodItems = ({filtered, addItem, filter}) => {\r\n\r\n  const [isAssending, setIsAssending] = useState(true);\r\n\r\n  const sort = () =>{\r\n    filter(isAssending);\r\n    setIsAssending(!isAssending);\r\n  }\r\n\r\n  return (\r\n    <div className=\"food-container\">\r\n      <div className=\"sort-by\" onClick={sort}>\r\n        <span className=\"sort'\"> Sort by Price</span>\r\n        <img src=\"./icon_filter.png\" alt=\"\" className=\"icon icon-sort\"/>\r\n      </div>\r\n     <ul className=\"food-items\">\r\n       {\r\n        filtered && filtered.map((item, index)=> {\r\n           return (\r\n             <li className=\"item\" key={index}>\r\n               <div className=\"details\">\r\n                 <span className=\"title\">{item.itemname}</span>\r\n                 <span className=\"sub-title\">Rs. {item.price}</span>\r\n               </div>\r\n                {\r\n                  item.count && item.count > 0 ? \r\n                  <Counter item={item}/>\r\n                  :\r\n                  <button className={getTime() ? 'btn-primary disabled' : 'btn-primary' } onClick={()=>addItem(item)} disabled={getTime()}>Add</button>\r\n                }\r\n             </li>\r\n           )\r\n         })\r\n       }\r\n     </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FoodItems\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './index.scss';\r\n\r\n\r\n\r\nconst AddedItems = ({data}) => {\r\n  \r\n  const [selectedItems, setSelectedItem] = useState([]);\r\n  const [total, settotal] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const newarr = data.filter(item=> item.count && item.count > 0 );\r\n    setSelectedItem(newarr);\r\n  }, [data])\r\n\r\n  useEffect(() => {\r\n    var sum = selectedItems.reduce(function (accumulator, currentValue) {\r\n      return accumulator + currentValue.price * currentValue.count;\r\n    }, 0)\r\n    settotal(sum);\r\n  }, [selectedItems]);\r\n\r\n\r\n  return (\r\n    <div className=\"added-items\">\r\n      <ul className=\"selected-items\">  \r\n        {\r\n          selectedItems.map((item, index)=> {\r\n            return(\r\n              <li className=\"item\" key={index}>\r\n                {`${item.count} X ${item.itemname}`}\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n      {\r\n        total > 0 &&\r\n        <div className=\"right\">\r\n          <div className=\"title\">{`Total Rs. ${total}`} </div>\r\n          <Link className=\"checkout\" to=\"/checkout\">\r\n            <button className=\"btn-link\">Checkout</button>\r\n          </Link>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddedItems\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport Header from '../Header'\r\nimport FoodItems from '../FoodItems'\r\nimport AddedItems from '../AddedItems/Index'\r\nimport dataContext from '../../context';\r\nimport _ from 'underscore';\r\n\r\nconst Main = () => {\r\n\r\n  const { state, action } = useContext(dataContext);\r\n  const [searched, setSearched] = useState([]);\r\n  const [isSearched, setisSearched] = useState(false);\r\n\r\n  const searchChangeHandler = (event) => {\r\n    var str = event.target.value;\r\n    var search = new RegExp(str, 'i');\r\n    let b = state.filter(item => search.test(item.itemname));\r\n    if (str !== '') {\r\n      setisSearched(true);\r\n      setSearched(b);\r\n    } else {\r\n      setSearched(state);\r\n      setisSearched(false);\r\n    }\r\n  }\r\n\r\n  const addItem = (item) => {\r\n    action({ type: 'ADD', payload: item })\r\n  }\r\n\r\n  const filter = (isAssending) => {\r\n    if(isSearched) {\r\n      if(isAssending) {\r\n        const a = _.sortBy(searched, 'price');\r\n        setSearched(a);\r\n      } else {\r\n        const a = _.sortBy(searched, 'price').reverse();\r\n        setSearched(a)\r\n      }\r\n      return;\r\n    }\r\n\r\n    if(isAssending) {\r\n      const a = _.sortBy(state, 'price');\r\n      action({type: 'SET', payload: a});\r\n    } else {\r\n      const a = _.sortBy(state, 'price').reverse();\r\n      action({type: 'SET', payload: a});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header searchChangeHandler={searchChangeHandler} />\r\n      <FoodItems filter={filter} filtered={ isSearched > 0 ? searched : state } addItem={addItem} />\r\n      <AddedItems data={state} />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React, {useEffect, useReducer} from 'react';\r\nimport './App.scss';\r\nimport dataContext from './context';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Checkout from './components/Checkout';\r\nimport Main from './components/Main';\r\nimport { jsondata } from './data';\r\n\r\nconst dataReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'SET':\r\n      return action.payload;\r\n    case 'ADD':\r\n      const obj = state.find(item=> item.itemname === action.payload.itemname);\r\n      obj.count = obj.count ? obj.count + 1 : 1;\r\n      const filtered = state.filter(item => {\r\n        if(item.itemname === action.payload.itemname){\r\n          return obj;\r\n        } else{\r\n          return item;\r\n        }\r\n      });\r\n      return filtered;\r\n    case 'REMOVE': \r\n      const removeObj = state.find(item=> item.itemname === action.payload.itemname);\r\n      removeObj.count = removeObj.count > 0 ? removeObj.count - 1 : delete removeObj.count;\r\n      const removefiltered = state.filter(item => {\r\n        if(item.itemname === action.payload.itemname){\r\n          return removeObj;\r\n        } else{\r\n          return item;\r\n        }\r\n      });\r\n      return removefiltered;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction App() {\r\n\r\n  const [data, dataDispatch] = useReducer(dataReducer, []);\r\n\r\n  useEffect(() => {\r\n    dataDispatch({ type: 'SET', payload: jsondata})\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <dataContext.Provider value={{state: data, action: dataDispatch}}>\r\n        <Switch>\r\n          <Route path=\"/\" exact component={Main}></Route>\r\n          <Route path=\"/checkout\" exact component={Checkout}></Route>\r\n        </Switch>\r\n      </dataContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter as Router } from 'react-router-dom';\r\n\r\n\r\nconst app = (\r\n  <Router>\r\n    <App/>\r\n  </Router>\r\n);\r\n\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}